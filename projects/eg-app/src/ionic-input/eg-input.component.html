<ion-input
        #ionInput
        [id]="_id | pipeId:label:'input'"
        [fill]="fill"
        [type]="type"
        [label]="label"
        [(ngModel)]="value"
        [disabled]="disabled"
        [maxlength]="maxlength"
        [placeholder]="placeholder"
        [labelPlacement]="labelPlacement"
        [attr.autocomplete]="autocomplete"
        [ngClass]="{ 'error': showError }"
        (ionBlur)="onBlur($event)"
        (ionInput)="handleChange($event)"
        (ionChange)="handleChange($event)"
    >
    <ng-container *ngTemplateOutlet="prefixIconContainer"></ng-container>
    <ng-container *ngTemplateOutlet="buttonAcionContainer"></ng-container>
    <ng-container *ngTemplateOutlet="suffixIconContainer"></ng-container>
</ion-input>
<div class="input-error">
    @if(showError) {
    <ion-note color="danger" class="error">
        {{ errorMessage }}
    </ion-note>
    }
    @if(!showError) {
    <ion-note>{{ hint }}</ion-note>
    }
</div>

<ng-template #prefixIconContainer>
    @if(prefixIcon) {
        <ion-icon slot="start" [name]="prefixIcon" aria-hidden="true"></ion-icon>
    }
</ng-template>

<ng-template #suffixIconContainer>
    @if (suffixIcon && !actions.length) {
        <ion-icon slot="end" [name]="suffixIcon" aria-hidden="true"></ion-icon>
    }
</ng-template>

<ng-template #buttonAcionContainer>
    @if (actions.length) {
        @for (action of actions; track action) {
            <ion-button
                slot="end"
                fill="clear"
                type="button"
                [attr.aria-label]="action?.ariaLabel"
                [style.visibility]="visibilityOnClearButton(action.action) ? 'visible' : 'hidden'"
                (click)="action?.click($event)"
            >
                <ion-icon slot="icon-only" [name]="action.icon" aria-hidden="true"></ion-icon>
            </ion-button>
        }
    }
</ng-template>
